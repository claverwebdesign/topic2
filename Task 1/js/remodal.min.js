
!(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],function(c){return b(a,c)})}else{if(typeof exports==="object"){b(a,require("jquery"))}else{b(a,a.jQuery||a.Zepto)}}})(this,function(q,f){var p="remodal";var e=q.REMODAL_GLOBALS&&q.REMODAL_GLOBALS.NAMESPACE||p;var j=f.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(w){return w+"."+e}).join(" ");var h=f.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(w){return w+"."+e}).join(" ");var a=f.extend({hashTracking:false,closeOnConfirm:true,closeOnCancel:true,closeOnEscape:true,closeOnOutsideClick:true,modifier:""},q.REMODAL_GLOBALS&&q.REMODAL_GLOBALS.DEFAULTS);var r={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"};var d={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"};var s=(function(){var w=document.createElement("div").style;return w.animationName!==undefined||w.WebkitAnimationName!==undefined||w.MozAnimationName!==undefined||w.msAnimationName!==undefined||w.OAnimationName!==undefined})();var n;var c;function l(z){if(s&&z.css("animation-name")==="none"&&z.css("-webkit-animation-name")==="none"&&z.css("-moz-animation-name")==="none"&&z.css("-o-animation-name")==="none"&&z.css("-ms-animation-name")==="none"){return 0}var D=z.css("animation-duration")||z.css("-webkit-animation-duration")||z.css("-moz-animation-duration")||z.css("-o-animation-duration")||z.css("-ms-animation-duration")||"0s";var B=z.css("animation-delay")||z.css("-webkit-animation-delay")||z.css("-moz-animation-delay")||z.css("-o-animation-delay")||z.css("-ms-animation-delay")||"0s";var y=z.css("animation-iteration-count")||z.css("-webkit-animation-iteration-count")||z.css("-moz-animation-iteration-count")||z.css("-o-animation-iteration-count")||z.css("-ms-animation-iteration-count")||"1";var x;var w;var A;var C;D=D.split(", ");B=B.split(", ");y=y.split(", ");for(C=0,w=D.length,x=Number.NEGATIVE_INFINITY;C<w;C++){A=parseFloat(D[C])*parseInt(y[C],10)+parseFloat(B[C]);if(A>x){x=A}}return A}function g(){if(f(document.body).height()<=f(window).height()){return 0}var z=document.createElement("div");var x=document.createElement("div");var w;var y;z.style.visibility="hidden";z.style.width="100px";document.body.appendChild(z);w=z.offsetWidth;z.style.overflow="scroll";x.style.width="100%";z.appendChild(x);y=x.offsetWidth;z.parentNode.removeChild(z);return w-y}function m(){var w=f("html");var x=e+"-is-locked";var z;var y;if(!w.hasClass(x)){y=f(document.body);z=parseInt(y.css("padding-right"),10)+g();y.css("padding-right",z+"px");w.addClass(x)}}function t(){var w=f("html");var x=e+"-is-locked";var z;var y;if(w.hasClass(x)){y=f(document.body);z=parseInt(y.css("padding-right"),10)-g();y.css("padding-right",z+"px");w.removeClass(x)}}function o(w,x,z,y){w.$bg.removeClass(e+"-is-"+r.CLOSING+" "+e+"-is-"+r.OPENING+" "+e+"-is-"+r.CLOSED+" "+e+"-is-"+r.OPENED).addClass(e+"-is-"+x);w.$overlay.removeClass(e+"-is-"+r.CLOSING+" "+e+"-is-"+r.OPENING+" "+e+"-is-"+r.CLOSED+" "+e+"-is-"+r.OPENED).addClass(e+"-is-"+x);w.$wrapper.removeClass(e+"-is-"+r.CLOSING+" "+e+"-is-"+r.OPENING+" "+e+"-is-"+r.CLOSED+" "+e+"-is-"+r.OPENED).addClass(e+"-is-"+x);w.$modal.removeClass(e+"-is-"+r.CLOSING+" "+e+"-is-"+r.OPENING+" "+e+"-is-"+r.CLOSED+" "+e+"-is-"+r.OPENED).addClass(e+"-is-"+x);w.state=x;!z&&w.$modal.trigger({type:x,reason:y},[{reason:y}])}function v(B,x,w){var A=0;var y=function(C){if(C.target!==this){return}A++};var z=function(C){if(C.target!==this){return}if(--A===0){f.each(["$bg","$overlay","$wrapper","$modal"],function(D,E){w[E].off(j+" "+h)});x()}};f.each(["$bg","$overlay","$wrapper","$modal"],function(C,D){w[D].on(j,y).on(h,z)});B();if(l(w.$bg)===0&&l(w.$overlay)===0&&l(w.$wrapper)===0&&l(w.$modal)===0){f.each(["$bg","$overlay","$wrapper","$modal"],function(C,D){w[D].off(j+" "+h)});x()}}function i(w){if(w.state===r.CLOSED){return}f.each(["$bg","$overlay","$wrapper","$modal"],function(x,y){w[y].off(j+" "+h)});w.$bg.removeClass(w.settings.modifier);w.$overlay.removeClass(w.settings.modifier).hide();w.$wrapper.hide();t();o(w,r.CLOSED,true)}function b(B){var z={};var x;var w;var A;var y;B=B.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",");x=B.split(",");for(y=0,w=x.length;y<w;y++){x[y]=x[y].split(":");A=x[y][1];if(typeof A==="string"||A instanceof String){A=A==="true"||(A==="false"?false:A)}if(typeof A==="string"||A instanceof String){A=!isNaN(A)?+A:A}z[x[y][0]]=A}return z}function k(){var z=location.hash.replace("#","");var w;var x;if(!z){if(n&&n.state===r.OPENED&&n.settings.hashTracking){n.close()}}else{try{x=f("[data-"+p+"-id="+z.replace(new RegExp("/","g"),"\\/")+"]")}catch(y){}if(x&&x.length){w=f[p].lookup[x.data(p)];if(w&&w.settings.hashTracking){w.open()}}}}function u(x,w){var y=f(document.body);var z=this;z.settings=f.extend({},a,w);z.index=f[p].lookup.push(z)-1;z.state=r.CLOSED;z.$overlay=f("."+e+"-overlay");if(!z.$overlay.length){z.$overlay=f("<div>").addClass(e+"-overlay "+e+"-is-"+r.CLOSED).hide();y.append(z.$overlay)}z.$bg=f("."+e+"-bg").addClass(e+"-is-"+r.CLOSED);z.$modal=x;z.$modal.addClass(e+"-is-initialized "+e+" "+z.settings.modifier+" "+e+"-is-"+r.CLOSED);z.$wrapper=f("<div>").addClass(e+"-wrapper "+z.settings.modifier+" "+e+"-is-"+r.CLOSED).hide().append(z.$modal);y.append(z.$wrapper);z.$wrapper.on("click."+e,"[data-"+p+'-action="close"]',function(A){A.preventDefault();z.close()});z.$wrapper.on("click."+e,"[data-"+p+'-action="cancel"]',function(A){A.preventDefault();z.$modal.trigger(d.CANCELLATION);if(z.settings.closeOnCancel){z.close(d.CANCELLATION)}});z.$wrapper.on("click."+e,"[data-"+p+'-action="confirm"]',function(A){A.preventDefault();z.$modal.trigger(d.CONFIRMATION);if(z.settings.closeOnConfirm){z.close(d.CONFIRMATION)}});z.$wrapper.on("click."+e,function(B){var A=f(B.target);if(!A.hasClass(e+"-wrapper")){return}if(z.settings.closeOnOutsideClick){z.close()}})}u.prototype.open=function(){var w=this;var x;if(w.state===r.OPENING||w.state===r.CLOSING){return}x=w.$modal.attr("data-"+p+"-id");if(x&&w.settings.hashTracking){c=f(window).scrollTop();location.hash=x}if(n&&n!==w){i(n)}n=w;m();w.$bg.addClass(w.settings.modifier);w.$overlay.addClass(w.settings.modifier).show();w.$wrapper.show().scrollTop(0);v(function(){o(w,r.OPENING)},function(){o(w,r.OPENED)},w)};u.prototype.close=function(w){var x=this;if(x.state===r.OPENING||x.state===r.CLOSING){return}if(x.settings.hashTracking&&x.$modal.attr("data-"+p+"-id")===location.hash.substr(1)){location.hash="";f(window).scrollTop(c)}v(function(){o(x,r.CLOSING,false,w)},function(){x.$bg.removeClass(x.settings.modifier);x.$overlay.removeClass(x.settings.modifier).hide();x.$wrapper.hide();t();o(x,r.CLOSED,false,w)},x)};u.prototype.getState=function(){return this.state};u.prototype.destroy=function(){var x=f[p].lookup;var w;i(this);this.$wrapper.remove();delete x[this.index];w=f.grep(x,function(y){return !!y}).length;if(w===0){this.$overlay.remove();this.$bg.removeClass(e+"-is-"+r.CLOSING+" "+e+"-is-"+r.OPENING+" "+e+"-is-"+r.CLOSED+" "+e+"-is-"+r.OPENED)}};f[p]={lookup:[]};f.fn[p]=function(y){var w;var x;this.each(function(z,A){x=f(A);if(x.data(p)==null){w=new u(x,y);x.data(p,w.index);if(w.settings.hashTracking&&x.attr("data-"+p+"-id")===location.hash.substr(1)){w.open()}}else{w=f[p].lookup[x.data(p)]}});return w};f(document).ready(function(){f(document).on("click","[data-"+p+"-target]",function(y){y.preventDefault();var x=y.currentTarget;var z=x.getAttribute("data-"+p+"-target");var w=f("[data-"+p+"-id="+z+"]");f[p].lookup[w.data(p)].open()});f(document).find("."+e).each(function(y,w){var z=f(w);var x=z.data(p+"-options");if(!x){x={}}else{if(typeof x==="string"||x instanceof String){x=b(x)}}z[p](x)});f(document).on("keyup."+e,function(w){if(n&&n.settings.closeOnEscape&&n.state===r.OPENED&&w.keyCode===27){n.close()}});f(window).on("hashchange."+e,k)})});